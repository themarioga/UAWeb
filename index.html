<!DOCTYPE html>
<html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<link href="fonts.css" rel="stylesheet">
		<link href="style.css" rel="stylesheet">
	</head>
	<body>
		<header>
			<i class="ico material-icons" id="ico_wifi" onclick="toogleIco('wifi')">wifi</i>
			<i class="ico material-icons" id="ico_volume" onclick="toogleIco('volume')">volume_up</i>
			<i class="ico material-icons" id="ico_notifications" onclick="toast('PROBANDOOOOOoooo', 3000)">notifications_none</i>
		</header>
		<section id="changelayer">
			<div class="col t2">
				<div class="row temperature">
					<span id="ext_temp"></span><span class="simbol">&ring;C</span>
				</div>
				<div class="row">
					<div id="time">18:58:</div><div id="date"></div>
				</div>
			</div>
			<div class="col first">
				<h3 class="title"><i class="material-icons medium" id="ico_wifi">invert_colors</i><br>Frigorifico</h3>
				<div class="content"><span id="frig_temp"></span><span class="simbol">&ring;C</span></div>
			</div>
			<div class="col">
				<h3 class="title"><i class="material-icons medium" id="ico_wifi">ac_unit</i><br>Congelador</h3>
				<div class="content"><span id="cong_temp"></span><span class="simbol">&ring;C</span></div>
			</div>
			<div class="col">
				<h3 class="title"><i class="material-icons medium" id="ico_wifi">flash_on</i><br>Energia</h3>
				<div class="content"><span id="energy">100</span><span class="simbol">W</span></div>
			</div>
		</section>
		<footer>
			
		</footer>
		<div id="toast">Probando un toast</div>
		<script type="text/javascript" src="jquery.min.js"></script>
		<script type="text/javascript" src="electro.js"></script>
		<script>
			function digiDate(){
				var meses = new Array ("Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre");
				var diasSemana = new Array("Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado");
				var f=new Date();
				$("#date").html(diasSemana[f.getDay()] + ", " + f.getDate() + " de " + meses[f.getMonth()] + " de " + f.getFullYear());
			}
			function digiClock() {
				var crTime = new Date();
				var crHrs = crTime.getHours();
				var crMns = crTime.getMinutes();
				var crScs = crTime.getSeconds();
				crMns = (crMns < 10 ? "0" : "") + crMns;
				crScs = (crScs < 10 ? "0" : "") + crScs;
				var timeOfDay = (crHrs < 12) ? "AM" : "PM";
				crHrs = (crHrs > 12) ? crHrs - 12 : crHrs;
				crHrs = (crHrs == 0) ? 12 : crHrs;
				var crTimeString = crHrs + ":" + crMns + ":" + crScs;
				$("#time").html(crTimeString);
				if (crHrs == 0 && crMns == 0 && crScs == 0){
					digiDate();
				}
			}
			function toast(msg, time){
				$("#toast").html(msg);
				$("#toast").show("fast");
				setTimeout(function() {$("#toast").hide("fast");}, time);
			}
			function toogleIco(ico){
				var tipo = $("#ico_"+ico).html();
				switch (ico){
					case 'wifi':
						if (tipo == "wifi")	$("#ico_"+ico).html("signal_wifi_off");
						else $("#ico_"+ico).html("wifi");
					break;
					case 'volume':
						if (tipo == "volume_up") $("#ico_"+ico).html("volume_off");
						else $("#ico_"+ico).html("volume_up");
					break;
				}
			}
			function changeExtTemp(temp){
				$("#ext_temp").html(temp);
			}
			function changeFrigTemp(temp){
				$("#frig_temp").html(Math.round(temp));
			}
			function changeCongTemp(temp){
				$("#cong_temp").html(Math.round(temp));
			}
			electro.tempExterior(changeExtTemp);
			electro.tempFrigorifico(changeFrigTemp);
			electro.tempCongelador(changeCongTemp);
			$(document).ready(function(){
				digiDate();
				digiClock()
				setInterval('digiClock()', 1000);
			});
		</script>
	</body>
</html>